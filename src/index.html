<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mirage Privacy Client</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans",
          Helvetica, Arial, sans-serif;
        max-width: 1150px;
        margin: 0 auto;
        padding: 24px;
        background: #0b0b0b;
        color: #e0e0e0;
        min-height: 100vh;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      @media (max-width: 768px) {
        body {
          margin: 0;
          padding: 16px;
        }
      }
      .container {
        background: #0b0b0b;
        width: 100%;
        max-width: 1150px;
      }
      .header {
        margin: 0 0 24px 0;
        padding: 16px;
        border: 1px solid #262626;
        border-radius: 6px;
        background: #161616;
      }
      .header-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        margin-right: -5px;
      }
      .header h1 {
        margin: 0;
        font-size: 24px;
        font-weight: 600;
        color: #e0e0e0;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .header h1 img {
        height: 32px;
        width: 32px;
        border-radius: 6px;
      }
      .header-bottom {
        display: flex;
        gap: 12px;
        align-items: flex-end;
        margin-top: 16px;
      }
      .node-api-group {
        display: flex;
        flex-direction: column;
        flex: 2;
      }
      .form-label {
        font-size: 10px;
        color: #e0e0e0;
        margin-bottom: 2px;
        font-weight: 400;
        display: block;
      }
      .node-api-input {
        width: 100%;
      }
      .network-info-inputs {
        display: flex;
        gap: 8px;
        flex: 1;
      }
      .network-info-group {
        display: flex;
        flex-direction: column;
      }
      .network-info-input {
        font-size: 12px;
        padding: 4px 10px;
        font-family:
          ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
          "Liberation Mono", monospace;
      }
      .network-chain-width {
        width: 100px;
      }
      .network-key-width {
        width: 115px;
      }
      .network-attested-width {
        width: 50px;
      }
      .network-debug-width {
        width: 50px;
      }
      .network-offline {
        color: #ff6b6b !important;
      }
      .network-warning {
        color: #fa4d56 !important;
      }
      .main-content {
        display: flex;
        gap: 24px;
        margin: 0;
      }
      @media (max-width: 1024px) {
        .main-content {
          flex-direction: column;
        }
      }
      .section {
        flex: 1;
        padding: 16px;
        border: 1px solid #262626;
        border-radius: 6px;
        background: #161616;
      }
      .section h2 {
        margin: 0 0 16px 0;
        font-size: 16px;
        font-weight: 600;
        color: #e0e0e0;
      }
      .section hr {
        border: none;
        border-top: 1px solid #262626;
        margin: 16px 0;
      }
      .sidebar {
        width: 450px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      @media (max-width: 1024px) {
        .sidebar {
          width: 100%;
        }
      }
      .input-group {
        margin: 12px 0;
      }
      .input-group:first-child {
        margin-top: 0;
      }
      .input-group:last-child {
        margin-bottom: 0;
      }
      input {
        width: 100%;
        padding: 5px 12px;
        border: 1px solid #393939;
        border-radius: 6px;
        box-sizing: border-box;
        background: #0b0b0b;
        color: #e0e0e0;
        font-size: 14px;
        line-height: 20px;
      }
      input:focus {
        outline: none;
        border-color: #4589ff;
        box-shadow: 0 0 0 3px rgba(69, 137, 255, 0.3);
      }
      input:disabled {
        background: #161616;
        color: #e0e0e0;
        cursor: default;
      }
      button {
        background: #42be65;
        color: #000000;
        border: 1px solid rgba(240, 246, 252, 0.1);
        padding: 5px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        margin: 5px;
        line-height: 20px;
      }
      #connectWallet {
        min-width: 150px;
        background: #0b0b0b;
        color: #4589ff;
        border: 1px solid #4589ff;
      }
      #connectWallet::before {
        font-family: "Font Awesome 6 Free";
        content: "\f555";
        font-weight: 900;
        margin-right: 8px;
      }
      #connectWallet:hover {
        background: rgba(69, 137, 255, 0.1);
      }
      button:hover {
        background: #3ddbd9;
      }
      button:disabled {
        background: #0b0b0b;
        color: #6f6f6f;
        cursor: not-allowed;
        border-color: #393939;
      }
      button.error {
        background: #fa4d56;
        color: #000000;
        border-color: rgba(240, 246, 252, 0.1);
      }
      .connected {
        color: #42be65;
      }
      .actions-container {
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 0;
        border: 1px solid #262626;
        border-radius: 6px;
        background: #161616;
      }
      .action-item {
        display: flex;
        align-items: center;
        padding: 8px 16px;
        gap: 8px;
        position: relative;
        min-height: 48px;
      }
      .action-item:not(:last-child)::before {
        content: "";
        position: absolute;
        left: 25px;
        bottom: -18px;
        top: 46px;
        width: 2px;
        background: #262626;
      }
      .action-item:has(.action-status.success):not(:last-child)::before {
        background: #393939;
      }
      .action-status {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 2px solid #393939;
        background: #0b0b0b;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        z-index: 1;
      }
      .action-status.disabled {
        width: 10px;
        height: 10px;
        margin: 3px;
      }
      .action-status.available {
        border-color: #4589ff;
        background: #0b0b0b;
        color: #4589ff;
      }
      .action-status.available::after {
        font-family: "Font Awesome 6 Free";
        content: "\f105";
        font-weight: 900;
        font-size: 12px;
        position: relative;
        top: 1px;
      }
      .action-status.pending {
        border-color: #fddc69;
        background: #0b0b0b;
        color: #fddc69;
      }
      .action-status.pending::after {
        content: "";
        position: absolute;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #fddc69;
        animation: pendingPulse 1s infinite;
      }
      @keyframes pendingPulse {
        0%, 100% {
          background: #fddc69;
        }
        50% {
          background: #0b0b0b;
        }
      }
      .action-status.success {
        border-color: #42be65;
        background: #0b0b0b;
        color: #42be65;
      }
      .action-status.success::after {
        font-family: "Font Awesome 6 Free";
        content: "\f00c";
        font-weight: 900;
        font-size: 10px;
      }
      .action-status.error {
        border-color: #fa4d56;
        background: #0b0b0b;
        color: #fa4d56;
      }
      .action-status.error::after {
        font-family: "Font Awesome 6 Free";
        content: "\f00d";
        font-weight: 900;
        font-size: 10px;
      }
      .action-status.available.reload {
        color: #e0e0e0;
        border-color: #e0e0e0;
      }
      .action-status.available.reload::after {
        font-family: "Font Awesome 6 Free";
        content: "\f2f1";
        font-weight: 900;
        font-size: 10px;
        top: 0;
      }
      .action-button button.reload-btn {
        color: #e0e0e0;
        border-color: #e0e0e0;
      }
      .action-button button.reload-btn:hover {
        background: rgba(224, 224, 224, 0.1);
      }
      .action-content {
        flex: 1;
        min-width: 0;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .action-title {
        position: relative;
        bottom: 1px;
        margin-left: 8px;
        font-size: 14px;
        font-weight: 400;
        color: #e0e0e0;
      }
      .action-item:has(.action-status.disabled) .action-title {
        color: #6f6f6f;
      }
      .action-meta {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-left: auto;
      }
      .action-button button {
        position: relative;
        bottom: 1px;
        padding: 2px 10px;
        font-size: 12px;
        white-space: nowrap;
        min-width: 80px;
        border-radius: 12px;
        background: #0b0b0b;
        color: #4589ff;
        border: 1px solid #4589ff;
      }
      .action-button button:hover {
        background: rgba(69, 137, 255, 0.1);
      }
      .action-button button:disabled {
        background: #0b0b0b;
        border-color: #393939;
        color: #6f6f6f;
      }
      .action-button button.waiting {
        background: #0b0b0b;
        border-color: #fddc69;
        color: #fddc69;
      }
      .action-button button.verified {
        background: #0b0b0b;
        border-color: #42be65;
        color: #42be65;
      }
      .action-button button.error {
        background: #0b0b0b;
        border-color: #fa4d56;
        color: #fa4d56;
      }
      .action-hash {
        font-size: 12px;
        color: #e0e0e0;
        font-family:
          ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
          "Liberation Mono", monospace;
        min-height: 20px;
        display: flex;
        align-items: center;
      }
      .action-hash a, .action-hash a:visited {
        color: #e0e0e0;
      }
      .action-hash a:hover {
        color: #82cfff;
      }
      .action-hash:empty {
        display: none;
      }
      a, a:visited {
        color: #2f81f7;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .token-inputs {
        display: flex;
        gap: 8px;
        align-items: flex-end;
      }
      .token-input-wrapper {
        display: flex;
        flex-direction: column;
      }
      .token-contract-input {
        flex: 1;
      }
      .token-symbol-input {
        width: 70px;
      }
      .amount-inputs {
        display: flex;
        gap: 8px;
        align-items: flex-end;
      }
      .amount-input-wrapper {
        flex: 1;
      }
      .reward-input-width {
        width: 184px;
        flex: none;
      }
      .total-input-width {
        width: 120px;
        flex: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header-top">
          <h1><img src="logo.png" alt="Mirage">Mirage SGX Client</h1>
          <button id="connectWallet">Connect Wallet</button>
        </div>
        <div class="header-bottom">
          <div class="node-api-group">
            <label for="nodeApiUrl" class="form-label">Network URL</label>
            <input
              type="text"
              id="nodeApiUrl"
              class="node-api-input"
              placeholder="http://localhost:8000"
              value="http://localhost:8000"
            >
          </div>
          <div class="network-info-inputs">
            <div class="network-info-group">
              <label for="networkChain" class="form-label">Chain</label>
              <input type="text" id="networkChain" class="network-info-input network-chain-width" disabled placeholder="...">
            </div>
            <div class="network-info-group">
              <label for="networkKey" class="form-label">Key</label>
              <input type="text" id="networkKey" class="network-info-input network-key-width" disabled placeholder="...">
            </div>
            <div class="network-info-group">
              <label for="networkAttested" class="form-label">Attested</label>
              <input type="text" id="networkAttested" class="network-info-input network-attested-width" disabled placeholder="...">
            </div>
            <div class="network-info-group">
              <label for="networkDebug" class="form-label">Debug</label>
              <input type="text" id="networkDebug" class="network-info-input network-debug-width" disabled placeholder="...">
            </div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="section">
          <h2>Token Transfer</h2>
          <hr>
          <div class="input-group">
            <div class="token-inputs">
              <div class="token-input-wrapper" style="flex: 1;">
                <label for="tokenContract" class="form-label">Token Contract Address</label>
                <input
                  type="text"
                  id="tokenContract"
                  class="token-contract-input"
                  placeholder="0xd402cE7dfd5F84d33d123A9D6078DF4096239c86"
                  value="0xd402cE7dfd5F84d33d123A9D6078DF4096239c86"
                >
              </div>
              <div class="token-input-wrapper">
                <label for="tokenSymbol" class="form-label">Symbol</label>
                <input
                  type="text"
                  id="tokenSymbol"
                  class="token-symbol-input"
                  disabled
                  placeholder="..."
                >
              </div>
            </div>
          </div>
          <div class="input-group">
            <label for="recipientAddress" class="form-label">Recipient Address</label>
            <input type="text" id="recipientAddress" placeholder="0x...">
          </div>
          <div class="input-group">
            <div class="amount-inputs">
              <div class="amount-input-wrapper">
                <label for="tokenAmount" class="form-label">Token Amount</label>
                <input type="text" id="tokenAmount" placeholder="100">
              </div>
              <div class="amount-input-wrapper reward-input-width">
                <label
                  for="rewardAmount"
                  id="rewardAmountLabel"
                  class="form-label"
                >5% + (1.6 gwei × gas / 4500 USD/ETH)</label>
                <input
                  type="text"
                  id="rewardAmount"
                  disabled
                  placeholder="Reward"
                >
              </div>
              <div class="amount-input-wrapper total-input-width">
                <label
                  for="totalAmount"
                  id="totalAmountLabel"
                  class="form-label"
                >Total = Amount + Reward</label>
                <input
                  type="text"
                  id="totalAmount"
                  disabled
                  placeholder="Total"
                >
              </div>
            </div>
          </div>
        </div>

        <div class="sidebar">
          <div class="actions-container">
            <div class="action-item">
              <div class="action-status disabled" id="approveStatus"></div>
              <div class="action-content">
                <div class="action-title" id="approveTitle">Approve Tokens</div>
                <div class="action-meta">
                  <div class="action-button">
                    <button id="approveBtn" disabled>Approve</button>
                  </div>
                  <div class="action-hash" id="approveHash"></div>
                </div>
              </div>
            </div>

            <div class="action-item">
              <div class="action-status disabled" id="deployStatus"></div>
              <div class="action-content">
                <div class="action-title">Deploy Escrow</div>
                <div class="action-meta">
                  <div class="action-button">
                    <button id="deployBondBtn" disabled>Deploy</button>
                  </div>
                  <div class="action-hash" id="deployHash"></div>
                </div>
              </div>
            </div>

            <div class="action-item">
              <div class="action-status disabled" id="submitStatus"></div>
              <div class="action-content">
                <div class="action-title">Execute Signal on Mirage</div>
                <div class="action-meta">
                  <div class="action-button">
                    <button id="submitSignalBtn" disabled>Execute</button>
                  </div>
                  <div class="action-hash" id="submitHash"></div>
                </div>
              </div>
            </div>

            <div class="action-item">
              <div class="action-status disabled" id="startOverStatus"></div>
              <div class="action-content">
                <div class="action-title">New Transaction</div>
                <div class="action-meta">
                  <div class="action-button">
                    <button id="startOver" class="reload-btn" disabled>Reset</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
